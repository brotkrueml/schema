#!/bin/bash
#
# This script generates the model and view helper classes out of the schema definition
#

echo "Removing old type and view helper classes ..."
rm ../Classes/Model/TypeTrait/*.php
rm ../Classes/Model/Type/*.php
rm ../Classes/ViewHelpers/Type/*.php
echo

echo "Generating classes ..."
php ../Generator/generate.php
echo

echo "Formatting model classes ..."
php-cs-fixer fix ../Classes/Model/TypeTrait/ --config ../.php_cs
php-cs-fixer fix ../Classes/Model/Type/ --config ../.php_cs
echo

echo "Formatting view helper classes ..."
php-cs-fixer fix ../Classes/ViewHelpers/Type/ --config ../.php_cs
echo

echo "Formatting provider class ..."
php-cs-fixer fix ../Classes/Provider/WebPageTypeProvider.php --config ../.php_cs
echo
